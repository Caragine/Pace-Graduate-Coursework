{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Adam\\\\Documents\\\\PACE\\\\Fall 2020 - Semester 4\\\\CS 691 - Computer Science Project I\\\\jobster-master\\\\jobster-master\\\\code\\\\client\\\\src\\\\views\\\\Home\\\\components\\\\Signup\\\\Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Stepper, Step, StepLabel, Button, Typography, CircularProgress } from '@material-ui/core';\nimport { Formik, Form } from 'formik'; //Forms\n\nimport BasicForm from './Forms/BasicForm';\nimport ProfileForm from './Forms/ProfileForm';\nimport ReviewForm from './Forms/ReviewForm'; //Validation Schema\n\nimport { UserSignupSchema } from \"../../../../validation/Validations\";\nimport useStyles from './Forms/SignupFormStyles';\nimport { compose } from \"recompose\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { asyncRegister } from \"../../../../actions/authActions\";\nconst steps = ['Account Details', 'Profile Details', 'Confirm Details'];\n\nfunction _renderStepContent(step) {\n  switch (step) {\n    case 0:\n      return /*#__PURE__*/_jsxDEV(BasicForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 20\n      }, this);\n\n    case 1:\n      return /*#__PURE__*/_jsxDEV(ProfileForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 20\n      }, this);\n\n    case 2:\n      return /*#__PURE__*/_jsxDEV(ReviewForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 20\n      }, this);\n\n    default:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 20\n      }, this);\n  }\n}\n\nfunction CheckoutPage(props) {\n  _s();\n\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(0);\n  const currentValidationSchema = UserSignupSchema[activeStep];\n  const isLastStep = activeStep === steps.length - 1;\n\n  function _sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async function _submitForm(values, actions) {\n    await _sleep(1000); //alert(JSON.stringify(values, null, 2));\n\n    actions.setSubmitting(false); //setActiveStep(activeStep + 1);\n\n    props.asyncRegister(values).then(res => {\n      actions.setErrors(res);\n      actions.setSubmitting(false);\n      console.log(\"response\", res);\n\n      if (!res.hasOwnProperty('status')) {\n        setActiveStep(0);\n      } else {\n        setActiveStep(activeStep + 1);\n      } // if (res.error) {\n      //     //setActiveStep(0);\n      //     console.log(\"error in signup\", res.error)\n      // }\n\n    });\n  }\n\n  function _handleSubmit(values, actions) {\n    if (isLastStep) {\n      _submitForm(values, actions);\n    } else {\n      setActiveStep(activeStep + 1);\n      actions.setTouched({});\n      actions.setSubmitting(false);\n    }\n  }\n\n  function _handleBack() {\n    setActiveStep(activeStep - 1);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      component: \"h1\",\n      variant: \"h4\",\n      align: \"center\",\n      children: \"Create Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: activeStep,\n      className: classes.stepper,\n      children: steps.map(label => /*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this)\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: activeStep === steps.length ?\n      /*#__PURE__*/\n      // <CheckoutSuccess />\n      _jsxDEV(\"h4\", {\n        children: \"Account Created\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: {\n          email: '',\n          phone: '',\n          password: '',\n          c_password: '',\n          firstName: '',\n          lastName: '',\n          city: '',\n          dob: '',\n          street: '',\n          state: '',\n          zip: '',\n          country: '',\n          profstatus: '0'\n        },\n        validationSchema: currentValidationSchema,\n        onSubmit: _handleSubmit,\n        children: ({\n          isSubmitting\n        }) => /*#__PURE__*/_jsxDEV(Form, {\n          id: \"Signup Form\",\n          children: [_renderStepContent(activeStep), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.buttons,\n            children: [activeStep !== 0 && /*#__PURE__*/_jsxDEV(Button, {\n              onClick: _handleBack,\n              className: classes.button,\n              children: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.wrapper,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                disabled: isSubmitting,\n                type: \"submit\",\n                variant: \"contained\",\n                color: \"primary\",\n                className: classes.button,\n                children: isLastStep ? 'Create Account' : 'Next'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 45\n              }, this), isSubmitting && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24,\n                className: classes.buttonProgress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CheckoutPage, \"5/ANSN4aidVPv0P4apAyeUUfwXQ=\", false, function () {\n  return [useStyles];\n});\n\n_c = CheckoutPage;\nCheckoutPage.propTypes = {\n  asyncRegister: PropTypes.func.isRequired\n};\nexport default compose(connect(null, {\n  asyncRegister\n}, null))(CheckoutPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"sources":["C:/Users/Adam/Documents/PACE/Fall 2020 - Semester 4/CS 691 - Computer Science Project I/jobster-master/jobster-master/code/client/src/views/Home/components/Signup/Signup.js"],"names":["React","useState","Stepper","Step","StepLabel","Button","Typography","CircularProgress","Formik","Form","BasicForm","ProfileForm","ReviewForm","UserSignupSchema","useStyles","compose","connect","PropTypes","asyncRegister","steps","_renderStepContent","step","CheckoutPage","props","classes","activeStep","setActiveStep","currentValidationSchema","isLastStep","length","_sleep","ms","Promise","resolve","setTimeout","_submitForm","values","actions","setSubmitting","then","res","setErrors","console","log","hasOwnProperty","_handleSubmit","setTouched","_handleBack","stepper","map","label","email","phone","password","c_password","firstName","lastName","city","dob","street","state","zip","country","profstatus","isSubmitting","buttons","button","wrapper","buttonProgress","propTypes","func","isRequired"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SACIC,OADJ,EAEIC,IAFJ,EAGIC,SAHJ,EAIIC,MAJJ,EAKIC,UALJ,EAMIC,gBANJ,QAOO,mBAPP;AAQA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,QAA7B,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,UAAP,MAAuB,oBAAvB,C,CAEA;;AACA,SAASC,gBAAT,QAAiC,oCAAjC;AAEA,OAAOC,SAAP,MAAsB,0BAAtB;AAEA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,aAAT,QAA8B,iCAA9B;AAEA,MAAMC,KAAK,GAAG,CAAC,iBAAD,EAAoB,iBAApB,EAAuC,iBAAvC,CAAd;;AAEA,SAASC,kBAAT,CAA4BC,IAA5B,EAAkC;AAC9B,UAAQA,IAAR;AACI,SAAK,CAAL;AACI,0BAAO,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,cAAP;;AACJ,SAAK,CAAL;AACI,0BAAO,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,cAAP;;AACJ,SAAK,CAAL;AACI,0BAAO,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,cAAP;;AACJ;AACI,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AARR;AAUH;;AAED,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AACzB,QAAMC,OAAO,GAAGV,SAAS,EAAzB;AACA,QAAM,CAACW,UAAD,EAAaC,aAAb,IAA8BzB,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAM0B,uBAAuB,GAAGd,gBAAgB,CAACY,UAAD,CAAhD;AACA,QAAMG,UAAU,GAAGH,UAAU,KAAKN,KAAK,CAACU,MAAN,GAAe,CAAjD;;AAEA,WAASC,MAAT,CAAgBC,EAAhB,EAAoB;AAChB,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAP;AACH;;AAED,iBAAeI,WAAf,CAA2BC,MAA3B,EAAmCC,OAAnC,EAA4C;AACxC,UAAMP,MAAM,CAAC,IAAD,CAAZ,CADwC,CAExC;;AACAO,IAAAA,OAAO,CAACC,aAAR,CAAsB,KAAtB,EAHwC,CAIxC;;AAEAf,IAAAA,KAAK,CAACL,aAAN,CAAoBkB,MAApB,EACKG,IADL,CACUC,GAAG,IAAI;AACTH,MAAAA,OAAO,CAACI,SAAR,CAAkBD,GAAlB;AACAH,MAAAA,OAAO,CAACC,aAAR,CAAsB,KAAtB;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBH,GAAxB;;AACA,UAAI,CAACA,GAAG,CAACI,cAAJ,CAAmB,QAAnB,CAAL,EAAmC;AAC/BlB,QAAAA,aAAa,CAAC,CAAD,CAAb;AACH,OAFD,MAGK;AACDA,QAAAA,aAAa,CAACD,UAAU,GAAG,CAAd,CAAb;AACH,OATQ,CAUT;AACA;AACA;AACA;;AACH,KAfL;AAgBH;;AAED,WAASoB,aAAT,CAAuBT,MAAvB,EAA+BC,OAA/B,EAAwC;AACpC,QAAIT,UAAJ,EAAgB;AACZO,MAAAA,WAAW,CAACC,MAAD,EAASC,OAAT,CAAX;AACH,KAFD,MAEO;AACHX,MAAAA,aAAa,CAACD,UAAU,GAAG,CAAd,CAAb;AACAY,MAAAA,OAAO,CAACS,UAAR,CAAmB,EAAnB;AACAT,MAAAA,OAAO,CAACC,aAAR,CAAsB,KAAtB;AACH;AACJ;;AAED,WAASS,WAAT,GAAuB;AACnBrB,IAAAA,aAAa,CAACD,UAAU,GAAG,CAAd,CAAb;AACH;;AAED,sBACI,QAAC,KAAD,CAAO,QAAP;AAAA,4BACI,QAAC,UAAD;AAAY,MAAA,SAAS,EAAC,IAAtB;AAA2B,MAAA,OAAO,EAAC,IAAnC;AAAwC,MAAA,KAAK,EAAC,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAII,QAAC,OAAD;AAAS,MAAA,UAAU,EAAEA,UAArB;AAAiC,MAAA,SAAS,EAAED,OAAO,CAACwB,OAApD;AAAA,gBACK7B,KAAK,CAAC8B,GAAN,CAAUC,KAAK,iBACZ,QAAC,IAAD;AAAA,+BACI,QAAC,SAAD;AAAA,oBAAYA;AAAZ;AAAA;AAAA;AAAA;AAAA;AADJ,SAAWA,KAAX;AAAA;AAAA;AAAA;AAAA,cADH;AADL;AAAA;AAAA;AAAA;AAAA,YAJJ,eAWI,QAAC,KAAD,CAAO,QAAP;AAAA,gBACKzB,UAAU,KAAKN,KAAK,CAACU,MAArB;AAAA;AACG;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFH,gBAIO,QAAC,MAAD;AACI,QAAA,aAAa,EAAE;AACXsB,UAAAA,KAAK,EAAE,EADI;AAEXC,UAAAA,KAAK,EAAE,EAFI;AAGXC,UAAAA,QAAQ,EAAE,EAHC;AAIXC,UAAAA,UAAU,EAAE,EAJD;AAKXC,UAAAA,SAAS,EAAE,EALA;AAMXC,UAAAA,QAAQ,EAAE,EANC;AAOXC,UAAAA,IAAI,EAAE,EAPK;AAQXC,UAAAA,GAAG,EAAE,EARM;AASXC,UAAAA,MAAM,EAAE,EATG;AAUXC,UAAAA,KAAK,EAAE,EAVI;AAWXC,UAAAA,GAAG,EAAE,EAXM;AAYXC,UAAAA,OAAO,EAAE,EAZE;AAaXC,UAAAA,UAAU,EAAE;AAbD,SADnB;AAgBI,QAAA,gBAAgB,EAAEpC,uBAhBtB;AAiBI,QAAA,QAAQ,EAAEkB,aAjBd;AAAA,kBAmBK,CAAC;AAAEmB,UAAAA;AAAF,SAAD,kBACG,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,aAAT;AAAA,qBACK5C,kBAAkB,CAACK,UAAD,CADvB,eAGI;AAAK,YAAA,SAAS,EAAED,OAAO,CAACyC,OAAxB;AAAA,uBACKxC,UAAU,KAAK,CAAf,iBACG,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAEsB,WAAjB;AAA8B,cAAA,SAAS,EAAEvB,OAAO,CAAC0C,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFR,eAMI;AAAK,cAAA,SAAS,EAAE1C,OAAO,CAAC2C,OAAxB;AAAA,sCACI,QAAC,MAAD;AACI,gBAAA,QAAQ,EAAEH,YADd;AAEI,gBAAA,IAAI,EAAC,QAFT;AAGI,gBAAA,OAAO,EAAC,WAHZ;AAII,gBAAA,KAAK,EAAC,SAJV;AAKI,gBAAA,SAAS,EAAExC,OAAO,CAAC0C,MALvB;AAAA,0BAOKtC,UAAU,GAAG,gBAAH,GAAsB;AAPrC;AAAA;AAAA;AAAA;AAAA,sBADJ,EAUKoC,YAAY,iBACT,QAAC,gBAAD;AACI,gBAAA,IAAI,EAAE,EADV;AAEI,gBAAA,SAAS,EAAExC,OAAO,CAAC4C;AAFvB;AAAA;AAAA;AAAA;AAAA,sBAXR;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AApBR;AAAA;AAAA;AAAA;AAAA;AALZ;AAAA;AAAA;AAAA;AAAA,YAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAuEH;;GAvHQ9C,Y;UACWR,S;;;KADXQ,Y;AAyHTA,YAAY,CAAC+C,SAAb,GAAyB;AACrBnD,EAAAA,aAAa,EAAED,SAAS,CAACqD,IAAV,CAAeC;AADT,CAAzB;AAMA,eAAexD,OAAO,CAACC,OAAO,CAAC,IAAD,EAAO;AAAEE,EAAAA;AAAF,CAAP,EAA0B,IAA1B,CAAR,CAAP,CAAgDI,YAAhD,CAAf","sourcesContent":["import React, { useState } from 'react';\nimport {\n    Stepper,\n    Step,\n    StepLabel,\n    Button,\n    Typography,\n    CircularProgress\n} from '@material-ui/core';\nimport { Formik, Form } from 'formik';\n\n//Forms\nimport BasicForm from './Forms/BasicForm';\nimport ProfileForm from './Forms/ProfileForm';\nimport ReviewForm from './Forms/ReviewForm';\n\n//Validation Schema\nimport { UserSignupSchema } from \"../../../../validation/Validations\";\n\nimport useStyles from './Forms/SignupFormStyles';\n\nimport { compose } from \"recompose\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { asyncRegister } from \"../../../../actions/authActions\";\n\nconst steps = ['Account Details', 'Profile Details', 'Confirm Details'];\n\nfunction _renderStepContent(step) {\n    switch (step) {\n        case 0:\n            return <BasicForm />;\n        case 1:\n            return <ProfileForm />;\n        case 2:\n            return <ReviewForm />;\n        default:\n            return <div>Not Found</div>;\n    }\n}\n\nfunction CheckoutPage(props) {\n    const classes = useStyles();\n    const [activeStep, setActiveStep] = useState(0);\n    const currentValidationSchema = UserSignupSchema[activeStep];\n    const isLastStep = activeStep === steps.length - 1;\n\n    function _sleep(ms) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    async function _submitForm(values, actions) {\n        await _sleep(1000);\n        //alert(JSON.stringify(values, null, 2));\n        actions.setSubmitting(false);\n        //setActiveStep(activeStep + 1);\n\n        props.asyncRegister(values)\n            .then(res => {\n                actions.setErrors(res);\n                actions.setSubmitting(false);\n                console.log(\"response\", res);\n                if (!res.hasOwnProperty('status')) {\n                    setActiveStep(0);\n                }\n                else {\n                    setActiveStep(activeStep + 1);\n                }\n                // if (res.error) {\n                //     //setActiveStep(0);\n                //     console.log(\"error in signup\", res.error)\n                // }\n            })\n    }\n\n    function _handleSubmit(values, actions) {\n        if (isLastStep) {\n            _submitForm(values, actions);\n        } else {\n            setActiveStep(activeStep + 1);\n            actions.setTouched({});\n            actions.setSubmitting(false);\n        }\n    }\n\n    function _handleBack() {\n        setActiveStep(activeStep - 1);\n    }\n\n    return (\n        <React.Fragment>\n            <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n                Create Account\n      </Typography>\n            <Stepper activeStep={activeStep} className={classes.stepper}>\n                {steps.map(label => (\n                    <Step key={label}>\n                        <StepLabel>{label}</StepLabel>\n                    </Step>\n                ))}\n            </Stepper>\n            <React.Fragment>\n                {activeStep === steps.length ? (\n                    // <CheckoutSuccess />\n                    <h4>Account Created</h4>\n                ) : (\n                        <Formik\n                            initialValues={{\n                                email: '',\n                                phone: '',\n                                password: '',\n                                c_password: '',\n                                firstName: '',\n                                lastName: '',\n                                city: '',\n                                dob: '',\n                                street: '',\n                                state: '',\n                                zip: '',\n                                country: '',\n                                profstatus: '0'\n                            }}\n                            validationSchema={currentValidationSchema}\n                            onSubmit={_handleSubmit}\n                        >\n                            {({ isSubmitting }) => (\n                                <Form id=\"Signup Form\">\n                                    {_renderStepContent(activeStep)}\n\n                                    <div className={classes.buttons}>\n                                        {activeStep !== 0 && (\n                                            <Button onClick={_handleBack} className={classes.button}>\n                                                Back\n                                            </Button>\n                                        )}\n                                        <div className={classes.wrapper}>\n                                            <Button\n                                                disabled={isSubmitting}\n                                                type=\"submit\"\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                className={classes.button}\n                                            >\n                                                {isLastStep ? 'Create Account' : 'Next'}\n                                            </Button>\n                                            {isSubmitting && (\n                                                <CircularProgress\n                                                    size={24}\n                                                    className={classes.buttonProgress}\n                                                />\n                                            )}\n                                        </div>\n                                    </div>\n                                </Form>\n                            )}\n                        </Formik>\n                    )}\n            </React.Fragment>\n        </React.Fragment>\n    );\n}\n\nCheckoutPage.propTypes = {\n    asyncRegister: PropTypes.func.isRequired,\n};\n\n\n\nexport default compose(connect(null, { asyncRegister }, null))(CheckoutPage);\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Adam\\\\Documents\\\\PACE\\\\Fall 2020 - Semester 4\\\\CS 691 - Computer Science Project I\\\\jobster-master\\\\jobster-master\\\\code\\\\client\\\\src\\\\views\\\\Partner\\\\components\\\\JobPostMgmt\\\\DetailedJobs.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { makeStyles, CssBaseline, createMuiTheme, ThemeProvider } from '@material-ui/core';\nimport { Box, Grid, Card, Typography, CardContent, CardHeader, Divider, Avatar, Button } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { compose } from \"recompose\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport setAuthToken from '../../../../utils/setAuthToken';\nimport { setCurrentPartner } from '../../../../actions/authActions';\nimport axios from \"axios\";\nimport store from '../../../../store';\nimport jwt_decode from \"jwt-decode\";\nimport Header from '../Header';\nimport parse from 'html-react-parser';\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#2867B2\"\n    },\n    background: {\n      default: \"#f4f5fd\"\n    }\n  }\n});\nconst useStyles = makeStyles({\n  appMain: {\n    width: '100%',\n    marginTop: '100px',\n    minHeight: '100%'\n  },\n  icon: {\n    height: 100,\n    width: 100,\n    justifyContent: \"center\"\n  },\n  Container: {\n    marginTop: '100px',\n    Directions: 'row',\n    marginLeft: '10%',\n    marginRight: '10%',\n    flexDirection: \"row\",\n    textAlign: 'left',\n    justifyContent: 'center'\n  },\n  avatar: {\n    height: 75,\n    width: 75,\n    justifyContent: 'center',\n    marginBottom: '15px'\n  },\n  typo: {\n    fontSize: \"20px\"\n  },\n  empty: {\n    marginLeft: '20%',\n    marginTop: '30%'\n  }\n});\n\nfunction DetailedJobs(props) {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [appData, setAppData] = React.useState([]);\n  const [res, setRes] = React.useState(false);\n  console.log(\"Data from List\", props.location.state);\n  let job = props.location.state;\n  React.useEffect(() => {\n    // Check for token\n    if (localStorage.pt_jwtToken) {\n      // Set auth token header auth\n      console.log(\"in effect\", localStorage.pt_jwtToken);\n      setAuthToken(localStorage.pt_jwtToken); // Decode token and get user info and exp\n\n      const decoded = jwt_decode(localStorage.pt_jwtToken);\n      console.log(\"in effect decoded\", decoded); // Set user and isAuthenticated\n\n      store.dispatch(setCurrentPartner(decoded));\n      axios({\n        method: \"get\",\n        url: `http://localhost:5000/api/applied/${job.j_id}/${decoded.id}`\n      }).then(function (response) {\n        //handle success\n        console.log(response.data.payload);\n        setAppData(response.data.payload);\n        setRes(response.data.success);\n      }).catch(function (error) {\n        //handle error\n        console.log(error);\n      }); // Check for expired token\n\n      const currentTime = Date.now() / 1000;\n\n      if (decoded.exp < currentTime) {\n        console.log(\"Session Expired\"); // Redirect to login\n        // window.location.href = \"/login\";\n      }\n    } else {\n      history.replace('/partner');\n    }\n  }, [localStorage.pt_jwtToken]);\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        maxWidth: \"lg\",\n        className: classes.Container,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                title: \"Job Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: [\"Job Id: \", job.j_id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: [\"Role: \", job.j_role]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: [\"Type: \", job.j_type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: [\"Date Posted: \", job.j_posted_date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: [\"Deadline: \", job.j_deadline]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: [\"City: \", job.city]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: [\"State: \", job.state]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: [\"Country: \", job.country]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: [\"Zipcode: \", job.zip]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  className: classes.typo,\n                  gutterBottom: true,\n                  variant: \"body1\",\n                  children: \"Description:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), parse(job.j_description)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 8,\n            children: [res ? /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textPrimary\",\n              className: classes.typo,\n              gutterBottom: true,\n              variant: \"h5\",\n              children: \"Applicants\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 22\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(Box, {\n              maxWidth: \"lg\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 3,\n                children: res ? Object.keys(appData).map(index => /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  lg: 6,\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n                      children: /*#__PURE__*/_jsxDEV(Box, {\n                        alignItems: \"center\",\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                          className: classes.avatar //src={user.u_profpic}\n\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 249,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                          orientation: \"vertical\",\n                          flexItem: true,\n                          variant: \"middle\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 253,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                          align: \"center\",\n                          color: \"textPrimary\",\n                          gutterBottom: true,\n                          variant: \"h6\",\n                          children: appData[index].u_firstname + \" \" + appData[index].u_lastname\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 255,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      flexGrow: 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      p: 2,\n                      children: /*#__PURE__*/_jsxDEV(Grid, {\n                        Container: true,\n                        justify: \"flex-end\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          color: \"primary\",\n                          fullWidth: true,\n                          size: \"small\",\n                          type: \"submit\",\n                          variant: \"contained\",\n                          onClick: () => history.push('/applicant', appData[index]),\n                          children: \"View Application\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 273,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 23\n                }, this)) : /*#__PURE__*/_jsxDEV(Box, {\n                  maxWidth: \"lg\",\n                  className: classes.Container,\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    color: \"textPrimary\",\n                    className: classes.empty,\n                    gutterBottom: true,\n                    variant: \"h5\",\n                    children: \"No one has applied yet!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DetailedJobs, \"IfogxzHX7sqrHqEiICRcp/78kRk=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = DetailedJobs;\nDetailedJobs.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n}\n\nexport default compose(connect(mapStateToProps, {}, null))(DetailedJobs);\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailedJobs\");","map":{"version":3,"sources":["C:/Users/Adam/Documents/PACE/Fall 2020 - Semester 4/CS 691 - Computer Science Project I/jobster-master/jobster-master/code/client/src/views/Partner/components/JobPostMgmt/DetailedJobs.js"],"names":["React","makeStyles","CssBaseline","createMuiTheme","ThemeProvider","Box","Grid","Card","Typography","CardContent","CardHeader","Divider","Avatar","Button","useHistory","compose","connect","PropTypes","setAuthToken","setCurrentPartner","axios","store","jwt_decode","Header","parse","theme","palette","primary","main","background","default","useStyles","appMain","width","marginTop","minHeight","icon","height","justifyContent","Container","Directions","marginLeft","marginRight","flexDirection","textAlign","avatar","marginBottom","typo","fontSize","empty","DetailedJobs","props","classes","history","appData","setAppData","useState","res","setRes","console","log","location","state","job","useEffect","localStorage","pt_jwtToken","decoded","dispatch","method","url","j_id","id","then","response","data","payload","success","catch","error","currentTime","Date","now","exp","replace","j_role","j_type","j_posted_date","j_deadline","city","country","zip","j_description","Object","keys","map","index","u_firstname","u_lastname","push","propTypes","auth","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles, CssBaseline, createMuiTheme, ThemeProvider } from '@material-ui/core';\nimport {\n  Box,\n  Grid,\n  Card,\n  Typography,\n  CardContent,\n  CardHeader,\n  Divider,\n  Avatar,\n  Button,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { compose } from \"recompose\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport setAuthToken from '../../../../utils/setAuthToken';\nimport { setCurrentPartner } from '../../../../actions/authActions'\nimport axios from \"axios\";\nimport store from '../../../../store'\nimport jwt_decode from \"jwt-decode\";\nimport Header from '../Header';\nimport parse from 'html-react-parser'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#2867B2\",\n    },\n    background: {\n      default: \"#f4f5fd\"\n    },\n  },\n})\n\n\nconst useStyles = makeStyles({\n  appMain: {\n    width: '100%',\n    marginTop: '100px',\n    minHeight: '100%',\n  },\n  icon: {\n    height: 100,\n    width: 100,\n    justifyContent: \"center\"\n  },\n  Container: {\n    marginTop: '100px',\n    Directions: 'row',\n    marginLeft: '10%',\n    marginRight: '10%',\n    flexDirection: \"row\",\n    textAlign: 'left',\n    justifyContent: 'center'\n  },\n  avatar: {\n    height: 75,\n    width: 75,\n    justifyContent: 'center',\n    marginBottom: '15px'\n  },\n  typo: {\n    fontSize: \"20px\"\n  },\n  empty: {\n    marginLeft: '20%',\n    marginTop: '30%'\n  }\n\n})\n\nfunction DetailedJobs(props) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [appData, setAppData] = React.useState([]);\n  const [res, setRes] = React.useState(false);\n\n  console.log(\"Data from List\", props.location.state)\n\n  let job = props.location.state;\n\n  React.useEffect(() => {\n    // Check for token\n    if (localStorage.pt_jwtToken) {\n      // Set auth token header auth\n      console.log(\"in effect\", localStorage.pt_jwtToken);\n      setAuthToken(localStorage.pt_jwtToken);\n      // Decode token and get user info and exp\n      const decoded = jwt_decode(localStorage.pt_jwtToken);\n      console.log(\"in effect decoded\", decoded);\n      // Set user and isAuthenticated\n      store.dispatch(setCurrentPartner(decoded));\n\n      axios({\n        method: \"get\",\n        url: `http://localhost:5000/api/applied/${job.j_id}/${decoded.id}`,\n      })\n        .then(function (response) {\n          //handle success\n          console.log(response.data.payload);\n          setAppData(response.data.payload)\n          setRes(response.data.success)\n\n        })\n        .catch(function (error) {\n          //handle error\n          console.log(error);\n        });\n\n\n\n      // Check for expired token\n      const currentTime = Date.now() / 1000;\n      if (decoded.exp < currentTime) {\n        console.log(\"Session Expired\")\n        // Redirect to login\n        // window.location.href = \"/login\";\n      }\n    }\n    else {\n      history.replace('/partner')\n    }\n  }, [localStorage.pt_jwtToken])\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div>\n        <Header />\n        <Box maxWidth=\"lg\" className={classes.Container}>\n          <Grid container spacing={3}>\n            <Grid item xs={4}>\n              <Card>\n                <CardHeader\n                  title=\"Job Details\"\n                />\n                <Divider />\n                <CardContent>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    Job Id: {job.j_id}\n                  </Typography>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    Role: {job.j_role}\n                  </Typography>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    Type: {job.j_type}\n                  </Typography>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    Date Posted: {job.j_posted_date}\n                  </Typography>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    Deadline: {job.j_deadline}\n                  </Typography>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    City: {job.city}\n                  </Typography>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    State: {job.state}\n                  </Typography>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    Country: {job.country}\n                  </Typography>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    Zipcode: {job.zip}\n                  </Typography>\n                  <Typography\n                    color=\"textPrimary\"\n                    className={classes.typo}\n                    gutterBottom\n                    variant='body1'\n                  >\n                    Description:\n                  </Typography>\n                  {parse(job.j_description)}\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid item xs={8}>\n              {res ? <Typography\n                color=\"textPrimary\"\n                className={classes.typo}\n                gutterBottom\n                variant='h5'\n              >\n                Applicants\n                  </Typography>\n                :\n                <></>}\n\n              <Box maxWidth=\"lg\">\n                <Grid container spacing={3}>\n                  {res ?\n                    Object.keys(appData).map(index => (\n                      <Grid item lg={6}>\n                        <Card>\n                          <CardContent>\n                            <Box\n                              alignItems=\"center\"\n                              display=\"flex\"\n                              flexDirection=\"column\"\n                            >\n                              <Avatar\n                                className={classes.avatar}\n                              //src={user.u_profpic}\n                              />\n                              <Divider orientation=\"vertical\" flexItem variant=\"middle\" />\n\n                              <Typography\n                                align=\"center\"\n                                color=\"textPrimary\"\n                                gutterBottom\n                                variant=\"h6\"\n                              >\n                                {appData[index].u_firstname + \" \" + appData[index].u_lastname}\n                              </Typography>\n                            </Box>\n\n                          </CardContent>\n                          <Box flexGrow={1} />\n                          <Divider />\n                          <Box p={2}>\n                            <Grid\n                              Container\n                              justify='flex-end'\n                            >\n                              <Button\n                                color='primary'\n                                fullWidth\n                                size=\"small\"\n                                type=\"submit\"\n                                variant=\"contained\"\n                                onClick={() => history.push('/applicant', appData[index])}\n                              >\n                                View Application\n                        </Button>\n                            </Grid>\n                          </Box>\n                        </Card>\n                      </Grid>\n                    ))\n                    :\n                    <Box maxWidth=\"lg\" className={classes.Container}>\n                      <Typography\n                        color=\"textPrimary\"\n                        className={classes.empty}\n                        gutterBottom\n                        variant='h5'\n                      >\n                        No one has applied yet!\n                  </Typography>\n\n                    </Box>\n                  }\n\n\n                </Grid>\n              </Box>\n            </Grid>\n\n          </Grid>\n\n        </Box>\n      </div>\n      <CssBaseline />\n    </ThemeProvider>\n  );\n}\n\n\n\nDetailedJobs.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n  }\n}\n\nexport default compose(connect(mapStateToProps, {}, null))(DetailedJobs);\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Adam\\\\Documents\\\\PACE\\\\Fall 2020 - Semester 4\\\\CS 691 - Computer Science Project I\\\\jobster-master\\\\jobster-master\\\\code\\\\client\\\\src\\\\views\\\\Partner\\\\components\\\\JobPostMgmt\\\\DetailedApplicant.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { makeStyles, CssBaseline, createMuiTheme, ThemeProvider } from '@material-ui/core';\nimport { Box, Container, Grid, Card, Typography, CardContent, CardHeader, Divider, Avatar, Button } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { compose } from \"recompose\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport setAuthToken from '../../../../utils/setAuthToken';\nimport { setCurrentPartner } from '../../../../actions/authActions';\nimport axios from \"axios\";\nimport store from '../../../../store';\nimport jwt_decode from \"jwt-decode\";\nimport Header from '../Header';\nimport ApplicantResume from './DetailedApplicant/ApplicantResume';\nimport ApplicantProfileDetails from './DetailedApplicant/ApplicantProfileDetails';\nimport ApplicantProfileComponent from './DetailedApplicant/ApplicantProfileComponent';\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#2867B2\"\n    },\n    background: {\n      default: \"#f4f5fd\"\n    }\n  }\n});\nconst useStyles = makeStyles({});\n\nfunction DetailedApplicant(props) {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [applicant, setApplicant] = React.useState({});\n  console.log(\"Data from List\", props.location.state);\n  let u_ID = props.location.state.u_ID;\n  React.useEffect(() => {\n    // Check for token\n    if (localStorage.pt_jwtToken) {\n      // Set auth token header auth\n      console.log(\"in effect\", localStorage.pt_jwtToken);\n      setAuthToken(localStorage.pt_jwtToken); // Decode token and get user info and exp\n\n      const decoded = jwt_decode(localStorage.pt_jwtToken);\n      console.log(\"in effect decoded\", decoded); // Set user and isAuthenticated\n\n      store.dispatch(setCurrentPartner(decoded));\n      axios({\n        method: \"get\",\n        url: \"http://localhost:5000/api/profile/\" + u_ID\n      }).then(function (response) {\n        //handle success\n        console.log(response);\n        setApplicant(response.data.payload);\n      }).catch(function (error) {\n        //handle error\n        console.log(error);\n      }); // Check for expired token\n\n      const currentTime = Date.now() / 1000;\n\n      if (decoded.exp < currentTime) {\n        console.log(\"Session Expired\"); // Redirect to login\n        // window.location.href = \"/login\";\n      }\n    } else {\n      history.replace('/partner');\n    }\n  }, [localStorage.pt_jwtToken]);\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"lg\",\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            lg: 6,\n            md: 6,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(ApplicantProfileComponent, {\n              user: applicant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            lg: 6,\n            md: 6,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(ApplicantProfileDetails, {\n              user: applicant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            lg: 12,\n            md: 12,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(ApplicantResume, {\n              u_resume: applicant.u_resume\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DetailedApplicant, \"npKF0BysVk8CZWGwEUcmQNIBRnY=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = DetailedApplicant;\nDetailedApplicant.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n}\n\nexport default compose(connect(mapStateToProps, {}, null))(DetailedApplicant);\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailedApplicant\");","map":{"version":3,"sources":["C:/Users/Adam/Documents/PACE/Fall 2020 - Semester 4/CS 691 - Computer Science Project I/jobster-master/jobster-master/code/client/src/views/Partner/components/JobPostMgmt/DetailedApplicant.js"],"names":["React","makeStyles","CssBaseline","createMuiTheme","ThemeProvider","Box","Container","Grid","Card","Typography","CardContent","CardHeader","Divider","Avatar","Button","useHistory","compose","connect","PropTypes","setAuthToken","setCurrentPartner","axios","store","jwt_decode","Header","ApplicantResume","ApplicantProfileDetails","ApplicantProfileComponent","theme","palette","primary","main","background","default","useStyles","DetailedApplicant","props","classes","history","applicant","setApplicant","useState","console","log","location","state","u_ID","useEffect","localStorage","pt_jwtToken","decoded","dispatch","method","url","then","response","data","payload","catch","error","currentTime","Date","now","exp","replace","u_resume","propTypes","auth","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles, CssBaseline, createMuiTheme, ThemeProvider } from '@material-ui/core';\nimport {\n    Box,\n    Container,\n    Grid,\n    Card,\n    Typography,\n    CardContent,\n    CardHeader,\n    Divider,\n    Avatar,\n    Button,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { compose } from \"recompose\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport setAuthToken from '../../../../utils/setAuthToken';\nimport { setCurrentPartner } from '../../../../actions/authActions'\nimport axios from \"axios\";\nimport store from '../../../../store'\nimport jwt_decode from \"jwt-decode\";\nimport Header from '../Header';\nimport ApplicantResume from './DetailedApplicant/ApplicantResume';\nimport ApplicantProfileDetails from './DetailedApplicant/ApplicantProfileDetails';\nimport ApplicantProfileComponent from './DetailedApplicant/ApplicantProfileComponent';\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: \"#2867B2\",\n        },\n        background: {\n            default: \"#f4f5fd\"\n        },\n    },\n})\n\n\nconst useStyles = makeStyles({\n});\n\nfunction DetailedApplicant(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [applicant, setApplicant] = React.useState({});\n\n    console.log(\"Data from List\", props.location.state)\n\n    let u_ID = props.location.state.u_ID;\n\n    React.useEffect(() => {\n        // Check for token\n        if (localStorage.pt_jwtToken) {\n            // Set auth token header auth\n            console.log(\"in effect\", localStorage.pt_jwtToken);\n            setAuthToken(localStorage.pt_jwtToken);\n            // Decode token and get user info and exp\n            const decoded = jwt_decode(localStorage.pt_jwtToken);\n            console.log(\"in effect decoded\", decoded);\n            // Set user and isAuthenticated\n            store.dispatch(setCurrentPartner(decoded));\n\n            axios({\n                method: \"get\",\n                url: \"http://localhost:5000/api/profile/\" + u_ID,\n            })\n                .then(function (response) {\n                    //handle success\n                    console.log(response);\n                    setApplicant(response.data.payload)\n\n                })\n                .catch(function (error) {\n                    //handle error\n                    console.log(error);\n                });\n\n\n            // Check for expired token\n            const currentTime = Date.now() / 1000;\n            if (decoded.exp < currentTime) {\n                console.log(\"Session Expired\")\n                // Redirect to login\n                // window.location.href = \"/login\";\n            }\n        }\n        else {\n            history.replace('/partner')\n        }\n    }, [localStorage.pt_jwtToken])\n\n\n    return (\n        <ThemeProvider theme={theme}>\n            <div>\n                <Header />\n                <Container maxWidth=\"lg\">\n                    <Grid\n                        container\n                        spacing={3}\n                    >\n                        <Grid\n                            item\n                            lg={6}\n                            md={6}\n                            xs={12}\n                        >\n                            <ApplicantProfileComponent user={applicant} />\n                        </Grid>\n                        <Grid\n                            item\n                            lg={6}\n                            md={6}\n                            xs={12}\n                        >\n                            <ApplicantProfileDetails user={applicant} />\n                        </Grid>\n                        <Grid\n                            item\n                            lg={12}\n                            md={12}\n                            xs={12}\n                        >\n                            <ApplicantResume u_resume={applicant.u_resume} />\n                        </Grid>\n\n                    </Grid>\n                </Container>\n            </div>\n        </ThemeProvider>\n\n    );\n}\n\nDetailedApplicant.propTypes = {\n    auth: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n    return {\n        auth: state.auth,\n    }\n}\n\nexport default compose(connect(mapStateToProps, {}, null))(DetailedApplicant);\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Adam\\\\Documents\\\\PACE\\\\Fall 2020 - Semester 4\\\\CS 691 - Computer Science Project I\\\\jobster-master\\\\jobster-master\\\\code\\\\client\\\\src\\\\views\\\\Home\\\\UserPortal.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Header from './components/Header/Header';\nimport HeaderLinksOut from './components/Header/HeaderLinksOut'; // import Header from \"../../components/Header/Header\";\n// import HeaderLinks from \"../../components/Header/HeaderLinks.js\";\n// import HeaderLinksOut from \"../../components/Header/HeaderLinksOut.js\";\n\nimport Footer from '../../components/Footer/Footer';\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { compose } from \"recompose\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport setAuthToken from \"../../utils/setAuthToken\";\nimport { setCurrentUser } from \"../../actions/authActions\";\nimport jwt_decode from \"jwt-decode\";\nimport store from \"../../store\";\nimport graphic from \"../../assets/img/graphic.png\";\nimport g2 from \"../../assets/img/g2.jpg\";\nconst useStyles = makeStyles(theme => ({\n  main: {\n    height: '100vh',\n    backgroundImage: `url(${g2})`,\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat'\n  },\n  root: {\n    //flexGrow: 1,\n    paddingTop: '100px'\n  },\n  card: {\n    width: '97%'\n  },\n  photo: {\n    height: '300px',\n    width: '400px'\n  }\n}));\n\nfunction UserPortal(props) {\n  _s();\n\n  const classes = useStyles();\n  console.log(\"Props\", props);\n  React.useEffect(() => {\n    // Check for token\n    if (localStorage.jwtToken) {\n      // Set auth token header auth\n      console.log(\"in effect\", localStorage.jwtToken);\n      setAuthToken(localStorage.jwtToken); // Decode token and get user info and exp\n\n      const decoded = jwt_decode(localStorage.jwtToken);\n      console.log(\"in effect decoded\", decoded); // Set user and isAuthenticated\n\n      store.dispatch(setCurrentUser(decoded)); // Check for expired token\n\n      const currentTime = Date.now() / 1000;\n\n      if (decoded.exp < currentTime) {\n        //console.log(\"App.js is running inside if and if\")\n        // Logout user\n        //store.dispatch(logoutUser());\n        // TODO: Clear current Profile\n        console.log(\"Session Expired\"); // Redirect to login\n        // window.location.href = \"/login\";\n      }\n    }\n  }, []);\n  React.useEffect(() => {\n    if (props.auth.isAuthenticated) {\n      console.log(\"true\");\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.main,\n    children: [props.auth.isAuthenticated ? /*#__PURE__*/_jsxDEV(HeaderLinksOut, {\n      user: props.auth.user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 43\n    }, this) : /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 87\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"jobster\",\n            className: classes.photo,\n            src: graphic\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserPortal, \"e3X/1Rqsn7nblQK13ERnP9eN2qU=\", false, function () {\n  return [useStyles];\n});\n\n_c = UserPortal;\nUserPortal.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n}\n\nexport default compose(connect(mapStateToProps, {}, null))(UserPortal);\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPortal\");","map":{"version":3,"sources":["C:/Users/Adam/Documents/PACE/Fall 2020 - Semester 4/CS 691 - Computer Science Project I/jobster-master/jobster-master/code/client/src/views/Home/UserPortal.js"],"names":["React","Header","HeaderLinksOut","Footer","SearchBar","makeStyles","Grid","compose","connect","PropTypes","setAuthToken","setCurrentUser","jwt_decode","store","graphic","g2","useStyles","theme","main","height","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","root","paddingTop","card","width","photo","UserPortal","props","classes","console","log","useEffect","localStorage","jwtToken","decoded","dispatch","currentTime","Date","now","exp","auth","isAuthenticated","user","propTypes","object","isRequired","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from './components/Header/Header';\nimport HeaderLinksOut from './components/Header/HeaderLinksOut';\n// import Header from \"../../components/Header/Header\";\n// import HeaderLinks from \"../../components/Header/HeaderLinks.js\";\n// import HeaderLinksOut from \"../../components/Header/HeaderLinksOut.js\";\nimport Footer from '../../components/Footer/Footer';\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { compose } from \"recompose\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport setAuthToken from \"../../utils/setAuthToken\";\nimport { setCurrentUser } from \"../../actions/authActions\";\nimport jwt_decode from \"jwt-decode\";\nimport store from \"../../store\";\nimport graphic from \"../../assets/img/graphic.png\"\nimport g2 from \"../../assets/img/g2.jpg\"\n\nconst useStyles = makeStyles((theme) => ({\n    main: {\n        height: '100vh',\n        backgroundImage: `url(${g2})`,\n        backgroundPosition: 'center',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat'\n    },\n    root: {\n        //flexGrow: 1,\n        paddingTop: '100px',\n    },\n    card: {\n        width: '97%'\n    },\n    photo: {\n        height: '300px',\n        width: '400px'\n\n    }\n}));\n\nfunction UserPortal(props) {\n    const classes = useStyles();\n    console.log(\"Props\", props);\n\n    React.useEffect(() => {\n        // Check for token\n        if (localStorage.jwtToken) {\n            // Set auth token header auth\n            console.log(\"in effect\", localStorage.jwtToken);\n            setAuthToken(localStorage.jwtToken);\n            // Decode token and get user info and exp\n            const decoded = jwt_decode(localStorage.jwtToken);\n            console.log(\"in effect decoded\", decoded);\n            // Set user and isAuthenticated\n            store.dispatch(setCurrentUser(decoded));\n\n            // Check for expired token\n            const currentTime = Date.now() / 1000;\n            if (decoded.exp < currentTime) {\n                //console.log(\"App.js is running inside if and if\")\n                // Logout user\n                //store.dispatch(logoutUser());\n                // TODO: Clear current Profile\n                console.log(\"Session Expired\")\n                // Redirect to login\n                // window.location.href = \"/login\";\n            }\n        }\n    }, [])\n\n    React.useEffect(() => {\n        if (props.auth.isAuthenticated) {\n            console.log(\"true\");\n        }\n    });\n\n\n    return (\n        <div className={classes.main}>\n            {/* <Header\n                brand=\"JOBSTER\"\n                rightLinks={props.auth.isAuthenticated ? <HeaderLinksOut user={props.auth.user} /> : <HeaderLinks />}\n                fixed\n                color=\"transparent\"\n                changeColorOnScroll={{\n                    height: 400,\n                    color: \"white\"\n                }}\n                {...rest}\n            /> */}\n\n            {props.auth.isAuthenticated ? <HeaderLinksOut user={props.auth.user} /> : <Header />}\n\n            <div className={classes.root} >\n                <Grid container\n                    direction=\"row\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                >\n                    <Grid item xs={6}>\n                        <SearchBar />\n                    </Grid>\n                    <Grid item >\n                        <img alt=\"jobster\" className={classes.photo} src={graphic} />\n                    </Grid>\n                </Grid>\n            </div>\n            <Footer />\n        </div>\n    );\n}\n\nUserPortal.propTypes = {\n    auth: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n    return {\n        auth: state.auth,\n    }\n}\n\nexport default compose(connect(mapStateToProps, {}, null))(UserPortal);\n"]},"metadata":{},"sourceType":"module"}